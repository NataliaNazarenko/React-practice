<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson-12</title>
</head>
<body>
    <h2>Робота з історією та “useNavigate”</h2>
    <p>У React Router Dom версії 6 була введена нова навігаційна функція під назвою useNavigate. Цей хук дозволяє змінювати історію браузера та
        навігувати між різними шляхами (routes) без використання Link або NavLink компонентів.
    </p>
    <p>useNavigate хук в React Router Dom дозволяє також виконувати навігацію на попередній або наступній сторінку з використанням значень +1, -1, +2
        або -2. Це корисно, коли вам потрібно здійснити перехід на наступну або попередню сторінку залежно від поточного шляху.
    </p>
    <p>У прикладі, при кліку на кнопку "Previous", викликається функція handlePrevious,
        яка використовує navigate з аргументом -1 для переходу на попередню сторінку. При
        кліку на кнопку "Next", викликається функція handleNext, яка використовує navigate з
        аргументом 1 для переходу на наступну сторінку.
        Ви також можете використовувати значення +2 або -2, якщо потрібно перейти на наступнунаступну або попередню-попередню сторінку від поточного шляху.
    </p>
    <p>Основна перевага використання useNavigate полягає в тому, що ви можете змінювати шлях без необхідності зберігати екземпляр історії (history)
        або передавати його через пропси.
    </p>
    <p>У прикладі, при кліку на кнопку, викликається функція
        handleClick, яка використовує navigate для зміни шляху на '/about'.
        Коли шлях змінюється, React Router Dom автоматично відображає
        відповідний компонент для нового шляху.
    </p>
    <h3>Ви також можете використовувати useNavigate для навігації з параметрами</h3>
    <p>У прикладі, при кліку на кнопку, викликається функція
        handleClick, яка використовує navigate для зміни шляху на '/user/123'
        і передає додатковий об'єкт state зі значенням from: 'dashboard'.
        Ви можете отримати цей об'єкт state у компоненті, до якого
        відбувається перехід.
    </p>
    <h3>Навігація з параметрами запиту</h3>
    <p>У прикладі, при кліку на кнопку, викликається функція
        handleClick, яка використовує navigate для зміни шляху на '/search' і
        передає параметри запиту ?query=react. Ви можете отримати ці
        параметри у компоненті, до якого відбувається перехід
    </p>
    <h3>Навігація з розширеним URL-адресом:</h3>
    <p>У цьому прикладі, при кліку на кнопку, викликається функція
        handleClick, яка використовує navigate для зміни шляху на
        '/products/123/details'. Це дозволяє вам організувати більш
        складну структуру шляхів у вашому додатку.
    </p>
    <h3>Навігація зі зміною стану історії:</h3>
    <p>У прикладі, при кліку на кнопку, викликається функція handleClick, яка
        використовує navigate для зміни шляху на '/dashboard' і замінює поточний
        запис історії. Це корисно, коли ви хочете здійснити перехід без збереження
        попереднього стану історії.
    </p>
    <h2>Компонент Navigate</h2>
    <p>В React Router Dom версії 6 був введений новий компонент під назвою Navigate, який дозволяє здійснювати програмне перенаправлення на
        певний шлях. Це лише обгортка навколо useNavigate, і він може приймати ті самі паратметри що і useNavigate.
    </p>
    <p>Navigate компонент використовується для зміни шляху і навігації в вашому додатку з використанням коду, а не залежностей від дій
        користувача, як це відбувається з Link або NavLink.
    </p>
    <p>У прикладі, в залежності від значення isLoggedIn, ми використовуємо
        Navigate для перенаправлення користувача на /dashboard або /login.
        Якщо isLoggedIn рівне true, то користувача автоматично перенаправлять на
        /dashboard. Якщо isLoggedIn рівне false, то користувача перенаправлять
        на /login, замінюючи попередній запис історії за допомогою пропса replace.
    </p>
    <p>За допомогою Navigate ви можете легко виконати перенаправлення на певний шлях, якщо такого роуту не існує. Це може бути корисним для
        обробки невірних або невалідних URL-адрес.
    </p>
    <p>У цьому прикладі ми визначаємо декілька роутів за допомогою компонента
        Route в Routes. Якщо користувач вводить невідомий шлях, то роут
        path="*" спрацьовує і виконує Navigate з аргументом to="/404" для
        перенаправлення на сторінку помилки (NotFound). Використовуючи пропс
        replace, ми замінюємо попередній запис історії.
    </p>
    <p>Таким чином, якщо користувач вводить неправильний URL-адрес, наприклад,
        '/contact', то він буде перенаправлений на сторінку 404 (NotFound), яка
        відображає повідомлення про помилку.
    </p>
    <h2>Хук useLocation()</h2>
    <p>useLocation() - це хук, наданий бібліотекою React Router Dom версії 6, який дозволяє отримати поточний об'єкт location, який містить інформацію
        про поточну URL-адресу.
    </p>
    <p>Об'єкт location містить такі властивості:</p>
    <p>• pathname - рядок, що містить поточний шлях (наприклад, "/about", "/products", тощо). <br>
        • search - рядок параметрів запиту (наприклад, "?id=123&category=books"). <br>
        • hash - рядок хешу (наприклад, "#section-1"). <br>
        • state - об'єкт стану, який був переданий під час перенаправлення (якщо був використаний <Navigate /> чи useNavigate з об'єктом стану).
    </p>
    <p>У прикладі ми використовуємо useLocation() для отримання об'єкта
        location. Ми виводимо деякі значення з об'єкта location за допомогою
        console.log(). Також ми використовуємо значення location.pathname
        для відображення поточного шляху на сторінці.
    </p>
    <p>Ви можете використовувати useLocation() для отримання поточного
        шляху, параметрів запиту, хешу або стану і використовувати ці дані для
        відображення відповідного вмісту на вашій сторінці або для здійснення
        додаткової логіки залежно від URL-адреси.
    </p>
    <p>Будь ласка, зверніть увагу, що useLocation() може використовуватись
        тільки в компонентах, які знаходяться в маршруті (<Route />) або
        компонентах, які знаходяться внутрі них.
    </p>
    <h2>Lazy loading</h2>
    <p>У React Router Dom версії 6 було внесено зміни до підтримки Lazy Loading (ліниве
        завантаження) компонентів. Lazy Loading дозволяє вам відкладати завантаження
        компонентів до того моменту, коли вони фактично потрібні, що поліпшує
        продуктивність вашого додатку.
    </p>
    <p>У прикладі ми використовуємо функцію lazy() для лінивого
        завантаження компонентів Home, About та Contact. Функція lazy() отримує
        функцію, яка викликає import() і передає шлях до модуля, який містить
        відповідний компонент.
    </p>
    <p>Коли компонент потрібно відобразити, React Router Dom 6 автоматично
        завантажує необхідний модуль і рендерить компонент.
    </p>
    <p>Важливо пам'ятати, що використання lazy() потребує підтримки динамічного
        імпорту (Dynamic Import) в середовищі, де ви запускаєте ваш додаток
        (наприклад, підтримка ECMAScript модулів у браузері або використання
        інструментів збирання, таких як Webpack або Rollup).
    </p>
    <p>Крім того, ви також можете використовувати Suspense з fallback для
        відображення запасного вмісту під час завантаження лінивого компонента:
    </p>
    <p>У прикладі ми обертаємо Routes  в Suspense  і встановлюємо fallback
        для відображення компонента "Loading..." під час завантаження лінивих компонентів.
    </p>
    <p>Це дозволяє плавно відображати вміст під час завантаження лінивих компонентів.
        З використанням lazy() та Suspense  ви можете досягти лінивого завантаження
        компонентів у React Router Dom 6, що поліпшує продуктивність вашого додатку та
        прискорює завантаження сторінок.
    </p>
    <h2>Приватні роути</h2>
    <p>У React Router Dom версії 6 приватні роути використовуються для захисту певних частин вашого додатку, таких як адміністративний розділ або
        захищений контент, від несанкціонованого доступу. Вони дозволяють перенаправляти користувачів до іншої сторінки або компонента, якщо у них немає
        необхідних прав доступу або неавторизовані.
    </p>
    <p>Основні кроки для створення приватних роутів у React Router Dom 6 такі: </p>
    <p>
        • Створіть компонент для захищених роутів, наприклад PrivateRoute, який буде виконувати логіку перевірки авторизації або прав
        доступу. <br>
        • Використовуйте Routes для огортання приватних роутів у PrivateRoute. <br>
        • У компоненті PrivateRoute використовуйте логіку перевірки авторизації або прав доступу. Якщо перевірка не пройдена, ви
        можете використовувати Navigate для перенаправлення користувача на іншу сторінку або відобразити повідомлення про
        помилку. <br>
    </p>
    <p>
        У прикладі ми створюємо компонент PrivateRoute, який
        перевіряє, чи користувач авторизований (за допомогою змінної
        isAuthenticated). Якщо користувач не авторизований, ми використовуємо
        Navigate, щоб перенаправити його на сторінку входу (/login). Якщо
        користувач авторизований, ми використовуємо Route, щоб відобразити
        компонент, пов'язаний з приватним роутом.
    </p>
    <p>У Routes ми використовуємо PrivateRoute для огортання наших
        приватних роутів, таких як /dashboard і /admin.
    </p>
</body>
</html>
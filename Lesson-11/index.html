<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson-11</title>
</head>
<body>
    <h1>Маршрутизація, URL</h1>
    <h2>Маршрутизація, Структура URL рядка</h2>
    <p>Відмінна перевага веб-застосунку від десктопного це наявність URL при переході по якому користувач опиняється у певної частини програми. Так
        можна зберегти закладку або надіслати посилання іншому користувачеві, при цьому йому буде відображено той самий інтерфейс (за винятком
        приватних даних).
    </p>
    <p>Аналогією URL-рядка може бути адреса за якою ви проживаєте: вулиця, будинок, квартири. Кожен стан інтерфейсу повинен мати свою адресу,
        свій URL. Те, що бачить користувач, стан інтерфейсу, має бути описано в URL.
    </p>
    <p>Розберемо з яких частин може складатися будь-який URL</p>
    <p>• https:// - протокол <br>
        • mysite.com/ - хост <br>
        • books/e3q76gm9lzk - шлях, то, де ми знаходимося у додатку <br>
        • e3q76gm9lzk - url-параметр. Параметри бувають динамічними або статичними <br>
        • ? - символ початку рядка запиту <br>
        • ?category=adventure&status=unread - рядок запиту <br>
        • category=adventure - пара параметр=значення <br>
        • & - символ "І", розділяє параметри рядка запиту <br>
        • #comments - якір (хеш), визначає положення на сторінці
    </p>
    <h2>Маршрктизація в React, React-router</h2>
    <p>У React немає вбудованого модуля маршрутизації, тому використовується React Router - Бібліотека маршрутизації для React. Так само, як React надає
        нам набір примітивів для створення інтерфейсу користувача та роботи зі станом, React Router надає набір компонентів та хуків для створення
        маршрутизації, управління історією навігації користувача та відображення різних компонетів в залежності від поточного значення URL в адресному
        рядку браузера.
    </p>
    <p>React Router - це популярна бібліотека для маршрутизації веб-додатків, яка дозволяє вам створювати односторінкові додатки з розширеною
        навігацією. Вона побудована на основі React і надає широкий набір інструментів для керування маршрутами в вашому додатку
    </p>
    <p>Основною концепцією React Router є використання компонентів для відображення різних сторінок або компонентів, в залежності від поточного URLадреси. Вона використовує компонент <Router>, щоб обгорнути ваш додаток, і компоненти <Route>, які визначають, які компоненти відображати
        для певних шляхів.
    </p>
    <h2>BrowserRouter</h2>
    <p>Командний центр управління маршрутизацією, який приховує в собі всю логіку взаємодії із історією браузера. Створює маршуртизатор та об'єкт історії
        навігації, щоб синхронізувати інтерфейс із URL-адресою. Використовуючи React контекст передає інформацію про поточний стан історії навігації всім
        нащадкам. Все, що необхідно зробити, це обернути компонентом BrowserRouter всі програми.
    </p>
    <p>У коді ми імпортуємо необхідні модулі: React з пакету "react",
        createRoot з модулю "react-dom/client" та BrowserRouter з пакету
        "react-router-dom". Вони потрібні для роботи з React і React Router. <br>
        Ми використовуємо метод render кореневого вузла для рендерингу
        нашого додатку. Весь додаток між <BrowserRouter> буде оточений
        компонентами React Router. Це дозволяє використовувати функціонал
        маршрутизації, наданий React Router, для навігації в додатку. <br>
        Вам потрібно додати решту свого додатку всередині BrowserRouter
        компоненти, як показано коментарем {/* The rest of your app goes
        here */}. Ви можете використовувати Route компоненти та інші
        компоненти React Router, щоб визначити маршрути та відображати
        компоненти в залежності від поточного URL.
    </p>
    <h2>Компоненти Routes та Route</h2>
    <p> React Router, компоненти Routes та Route використовуються для визначення маршрутів і відповідних компонентів для відображення при збігу URL-адреси.
        Давайте розглянемо кожен з них детальніше та наведемо приклади використання. <br>
        Компонент Routes використовується для визначення набору маршрутів в вашому додатку. Ви можете вкладати Route компоненти всередині
        Routes, щоб визначити маршрути та компоненти, які будуть відображатися при збігу URL.
    </p>
    <p>Приклад використання Routes: <br>
        У прикладі, ми використовуємо Routes для визначення трьох
        маршрутів. При збігу URL з /, буде відображений компонент Home, при збігу
        з /about - About, і при збігу з /contact - Contact.
    </p>
    <p>Компонент Route використовується для визначення окремого маршруту в Routes. Ви вказуєте path атрибут для визначення шляху, який
        співпадатиме з поточним URL, і element атрибут для вказівки компонента, який буде відображений при збігу.
    </p>
    <p>Приклад використання Route: <br>
        У цьому прикладі, Route компоненти використовуються без
        <Routes> компонента, але їх можна вкладати всередині Routes для
        кращого організації. <br>
        Зверніть увагу, що коли URL співпадає з вказаним path, буде
        відображений компонент, вказаний у element. Наприклад, при
        відвідуванні /about, компонент About буде відображений.
    </p>
    <p>Таким чином, використовуючи Routes та Route компоненти з бібліотеки React Router, ви можете визначати маршрути та відповідні компоненти для
        відображення в залежності від URL. Це дозволяє створювати потужну маршрутизацію та навігацію у вашому React-додатку.
    </p>
    <h2>Компонент Link</h2>
    <p>У React Router v6 компонент Link використовується для створення посилань і навігації між різними маршрутами у вашому додатку. Замість
        використання "a" тегів, ви можете використовувати Link, щоб забезпечити навігацію без перезавантаження сторінки. Давайте розглянемо його
        використання та можливості.
    </p>
    <p>У прикладі, ми використовуємо компонент Link для створення
        посилань на різні маршрути в нашому додатку. Замість атрибуту href, ми
        використовуємо атрибут to, який приймає шлях до відповідного маршруту.
        При кліці на посилання, React Router виконує навігацію до відповідного
        маршруту, а компоненти, які відповідають цьому маршруту, будуть
        відображені на сторінці без перезавантаження.
    </p>
    <p>Таким чином, використовуючи компонент Link з React Router v6, ви можете
        створювати навігаційні посилання між різними маршрутами у вашому додатку. Це
        дозволяє забезпечити плавну навігацію без перезавантаження сторінки.
    </p>
    <h2>Компонент Link replace state={}</h2>
    <p>replace (заміна):
        Властивість replace може бути використана, якщо ви хочете замінити поточний запис в стеку історії за допомогою history.replaceState замість
        стандартного використання history.pushState. Коли ви використовуєте replace, новий запис буде заміщений в стеку історії, а не доданий до нього. Це
        корисно, коли ви хочете забезпечити заміну стану без створення нової точки входу в історії браузера.
    </p>
    <p>state (стан):
        Властивість state може бути використана для встановлення станового значення для нової локації, яке зберігається в стані історії (history state). Це
        значення може бути використано пізніше за допомогою хука useLocation() для доступу до нього. Використання state дозволяє зберігати додаткові дані
        або стан, пов'язаний з певною локацією, і використовувати його в подальшому, наприклад, для рендерингу компонентів, залежних від цього стану.
    </p>
    <p>У прикладі, коли клікається на посилання, поточний запис в стеку історії
        буде замінений за допомогою history.replaceState, а не доданий новий
        запис. Це корисно, коли ви хочете замінити поточний стан без створення нової
        точки входу в історії браузера.
    </p>
    <p>У прикладі, коли клікається на посилання, встановлюється стан { id: 123 }
        для нової локації. Це значення може бути пізніше отримане через хук useLocation() і
        використане для відображення компонентів, залежних від цього стану. Наприклад, ви
        можете використовувати його для визначення вмісту або налаштувань компонента, що
        відображає деталі певного елемента.
    </p>
    <p>У прикладі ми використовуємо хук useLocation() для
        отримання поточної локації, а потім отримуємо значення id з
        location.state, яке ми передали у посиланні. За допомогою цього
        значення ми можемо відобразити відповідні деталі на сторінці.
    </p>
    <p>Використання state і replace дозволяє вам контролювати поведінку
        посилань і передавати додаткові дані або стан між локаціями. Це
        дозволяє створювати більш гнучкі і динамічні маршрутизовані додатки з
        використанням React Router v6.
    </p>
    <h2>Компонент Outlet</h2>
    <p>Компонент Outlet є частиною React Router v6 і використовується для відображення вкладених
        компонентів залежно від збігу маршрутів. Він слугує контейнером для дочірніх компонентів <Route>,
        які будуть відображатися на відповідному рівні вкладеності.
    </p>
    <p>У прикладі компонент Outlet розміщений всередині компонента App. Це місце, де
        будуть відображатися дочірні компоненти Route. При відповідності URL-адреси буде відображено
        той компонент Route, який відповідає даному маршруту.
    </p>
    <p>Наприклад, якщо поточний URL відповідає шляху /about, в компоненті Outlet буде
        відображений компонент About. Якщо ні один з Route не відповідає поточному URL,
        Outlet залишиться порожнім.
    </p>
    <p>Крім того, ви можете вкладати компонент Route всередині Outlet, щоб створити більш складену структуру вкладеності маршрутів.</p>
    <p>У прикладі, при відповідності URL /about, компонент About
        буде відображений у компоненті Outlet, і компонент
        AboutSubPage буде відображений у вкладеному Outlet
        всередині About.
    </p>
    <p>Додавання вкладеності компонентів Outlet дозволяє створювати більш складену структуру маршрутів і гнучко керувати відображенням компонентів
        в залежності від URL-адреси.
    </p>
    <p>• При відповідності URL /, буде відображений компонент Home. <br>
        • При відповідності URL /about, буде відображений компонент About, а вкладений Outlet відображатиме компонент
        AboutSubPage при відповідності URL /about/subpage. <br>
        • При відповідності URL /contact, буде відображений компонент Contact.
    </p>
    <p>Компонент Outlet розташований у відповідних місцях, де ви хочете відображати вкладені компоненти на основі URL-адреси. Це дозволяє
        створювати багаторівневі маршрути і складні структури навігації у вашому додатку.
    </p>
    <h2>Компонент NavLink</h2>
    <p>Компонент NavLink є частиною бібліотеки React Router v6 і використовується для створення навігаційних посилань з підтримкою активних стилів
        і поведінки, коли посилання відповідає поточному маршруту. NavLink базується на компоненті Link, але додає додаткові функціональності,
        що полегшують стилізацію та визначення активних посилань.
    </p>
    <p>У прикладі, ми використовуємо компонент NavLink для створення
        навігаційних посилань на різні маршрути. При відповідності поточному URL,
        NavLink автоматично додає клас "active" до стилізації активного посилання.
    </p>
    <h2>Компонент NavLink className={}</h2>
    <p>Функція getNavLinkClassName приймає параметр isActive, який вказує, чи має
        бути посилання активним. В залежності від значення isActive, вона повертає
        рядок з класами "nav-link" і “active-link". Якщо isActive дорівнює true, то до класу
        буде додано “active-link", інакше буде повернуто лише “nav-link".
        Компоненти NavLink використовують функцію getNavLinkClassName для
        визначення класу, який буде застосований до посилання. Це дозволяє вам гнучко
        керувати стилізацією активних посилань в залежності від вашої логіки активності
        маршруту.
    </p>
    <p>У прикладі ми використовуємо функцію getNavLinkClassName для
        повернення об'єкта стилів в залежності від активності посилання. Коли
        посилання є активним, кольором тексту буде "red", а якщо воно неактивне -
        “green".
    </p>
    <p>Компоненти NavLink отримують проп style, який ми встановлюємо на
        результат функції getNavLinkClassName. Оскільки getNavLinkClassName
        повертає об'єкт стилів, ми можемо передати його безпосередньо як значення
        пропу style.
    </p>
    <p>Цей підхід дозволяє вам гнучко налаштувати стилі посилань в залежності від їх
        активності. Зверніть увагу, що стилі задаються в об'єкті, де назва властивості
        відповідає CSS-властивості, а значення властивості - значенню CSS-стилю.
    </p>
    <h2>Компонент NavLink end </h2>
    <p>
        Проп end в компоненті NavLink використовується для встановлення точного збігу URL. Якщо ви додаєте проп end до NavLink,
        це означає, що посилання буде вважатися активним лише в тому випадку, якщо URL-шлях повністю збігається з поточним URL. 
    </p>
    <p>
        Приклади: <br>
        • NavLink to="/tasks" /> і поточний URL /tasks - збігається, тому isActive буде true. <br>
        • NavLink to="/tasks" /> і поточний URL /tasks/123 - частковий збіг, тому isActive буде true. <br>
        • NavLink to="/tasks" end /> і поточний URL /tasks - збігається, тому isActive буде true. Проп end вказує, що потрібен
        точний збіг, тому /tasks/123 не вважається збігом. <br>
        • NavLink to="/tasks" end /> і поточний URL /tasks/123 - не збігається, тому isActive буде false. Проп end вказує, що
        потрібен точний збіг, але /tasks/123 є більш специфічним шляхом, тому воно не вважається збігом.
    </p>
    <p>Проп end корисний, коли ви хочете забезпечити точний збіг маршруту і не дозволяти часткові збіги. Використовуючи end, ви можете
        контролювати активність посилань з високою точністю, що допоможе вам визначити правильні стилі або поведінку для активних
        посилань.
    </p>
    <h2>Динамічні параметри в роутах та useParams()</h2>
    <p>В React Router v6, динамічні параметри в роутах можуть бути визначені за допомогою двокрапки (:) у шляху роута. Коли ви визначаєте роут з динамічним
        параметром, значення цього параметра буде доступне через хук useParams()
    </p>
    <p>У прикладі у нас є роут з шляхом /user/:username, де :username є
        динамічним параметром. Коли URL-шлях відповідає цьому роуту, компонент
        UserProfile буде рендеритись, а значення динамічного параметра буде доступне
        через хук useParams().
    </p>
    <p>У компоненті UserProfile ми використовуємо useParams() для отримання всіх
        параметрів з поточного URL. У нашому випадку, ми витягуємо значення username з
        params і відображаємо його у заголовку
    </p>
    <p>
        Приклад URL-ів, які відповідають цьому роуту: <br>
        • /user/john - username буде 'john'. <br>
        • /user/sarah - username буде 'sarah'. <br>
        • тощо
    </p>
    <p>Використання динамічних параметрів дозволяє вам створювати гнучкі роути змінної
        структури, де значення параметрів можуть варіюватись, і використовувати ці
        значення в компонентах для відображення відповідних даних чи поведінки.
    </p>
    <h2>Вкладені роути</h2>
    <p>У React Router v6 вкладені роути створюються за допомогою компонента Outlet та
        вкладених Route. Вкладені роути дозволяють вам визначити різні маршрути для
        різних компонентів, які відображаються в залежності від головного маршруту.
    </p>
    <p>У прикладі ми маємо головний компонент App, в якому визначені наші роути. У
        роутах ми використовуємо компонент Routes для групування роутів і компонента
        <Route> для визначення окремих шляхів
    </p>
    <p>Приклад URL-ів та компонентів, які відповідають цим роутам: <br>
        • "/" - відображається компонент Home. <br>
        • "/about" - відображається компонент About. <br>
        • "/products" - відображається компонент Products. <br>
        • "/products/laptop" - відображається компонент Products разом з вкладеним
        компонентом Laptop. <br>
        • "/products/phone" - відображається компонент <Products /> разом з вкладеним
        компонентом Phone.
    </p>
    <p>У компоненті Products вам потрібно додати посилання або кнопки для переходу на вкладені роути /laptop та /phone. Для цього можна
        використати компонент Link з React Router.
    </p>
    <p>У прикладі ми використовуємо компонент Link з to пропом, який
        вказує шлях роута, на який ми хочемо перейти. Коли користувач клікає на
        посилання "Ноутбуки", він буде перенаправлений на шлях "/products/laptop", а
        коли клікає на посилання "Смартфони", буде переадресований на шлях "/
        products/phone".
    </p>
    <p>Використання вкладених роутів дозволяє вам структурувати ваш додаток з
        багаторівневою навігацією та відображати відповідні компоненти в залежності
        від шляху URL. Це дозволяє створювати складні ієрархії сторінок і підвищує
        гнучкість вашого додатку при визначенні роутів.
    </p>
</body>
</html>

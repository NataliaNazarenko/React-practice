<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson-10</title>
</head>
<body>
    <h2>Робота з REST API</h2>
    <p>Трохи про REST</p>
    <p>REST (Representational State Transfer) API (Application Programming Interface) є архітектурним стилем для створення веб-сервісів, які
        забезпечують комунікацію між різними компонентами програмного забезпечення. REST API використовує стандартні протоколи HTTP, такі як
        GET, POST, PUT і DELETE, для передачі даних між клієнтом і сервером. <br>
        У REST API існує концепція ресурсів, які представляються через унікальні ідентифікатори URL (Uniform Resource Locator). Клієнти можуть
        використовувати HTTP-методи для виконання операцій з цими ресурсами. Наприклад, GET-запит може бути використаний для отримання
        даних про ресурс, POST-запит для створення нового ресурсу, PUT-запит для оновлення існуючого ресурсу, а DELETE-запит для його
        видалення. <br>
        REST API передає дані між клієнтом і сервером у різних форматах, таких як JSON (JavaScript Object Notation), XML (eXtensible Markup Language)
        або інші. Зазвичай відповіді сервера містять статус-коди HTTP для вказівки про результат виконання запиту. <br>
        Основні переваги REST API включають простоту використання, масштабованість, незалежність від платформи та можливість розробки різних
        типів клієнтів (наприклад, веб-додатків, мобільних додатків або IoT-пристроїв), які взаємодіють з сервером за допомогою одного і того ж API.
        REST API є широко використовуваним стандартом для розробки веб-сервісів і забезпечення інтеграції між різними системами та платформами.
    </p>
    <p>У REST API статус-коди використовуються для передачі інформації про результат виконання запиту між клієнтом і сервером. Клієнт отримує статускод у відповіді сервера, що дозволяє йому зрозуміти, чи був запит успішним, чи сталася помилка, і в якому стані знаходиться ресурс.
        Основні категорії статус-кодів HTTP в REST API включають: <br>
        Інформаційні (1xx): Ці статус-коди повідомляють про те, що запит отриманий і оброблюється, але процес ще не завершений. Наприклад, 100
        (Continue) вказує, що сервер отримав частину запиту і очікує решти. <br>
        Успішні (2xx): Ці статус-коди позначають успішне виконання запиту. Найпоширеніші з них: <br>
        • 200 (OK): Запит був успішно оброблений і повернув необхідну інформацію. <br>
        • 201 (Created): Ресурс був успішно створений на сервері. <br>
        • 204 (No Content): Запит був успішно оброблений, але відповідь не містить контенту. <br>
        Перенаправлення (3xx): Ці статус-коди показують, що для отримання бажаної інформації клієнт повинен зробити додатковий запит. Наприклад,
        302 (Found) вказує, що ресурс знаходиться за іншою адресою, і клієнт повинен зробити новий запит за цією адресою.
    </p>
    <p>Помилки клієнта (4xx): Ці статус-коди вказують на помилку, що виникла з боку клієнта, наприклад, некоректний запит або відсутність доступу
        до ресурсу. Деякі з найвідоміших помилок включають: <br>
        • 400 (Bad Request): Клієнтський запит має некоректний синтаксис або параметри. <br>
        • 401 (Unauthorized): Клієнт не має авторизаціції для доступу до ресурсу і повинен надати відповідні облікові дані. <br>
        Помилки сервера (5xx): Ці статус-коди вказують на помилку, що виникла на стороні сервера під час обробки запиту. Деякі з найвідоміших
        помилок включають: <br>
        • 500 (Internal Server Error): Виникла внутрішня помилка на сервері, яка перешкоджає обробці запиту. <br>
        • 503 (Service Unavailable): Сервер тимчасово недоступний або не може обробити запит через перевантаження або проведення технічних
        робіт. <br>
        Крім цих основних статус-кодів, існує багато інших, які вказують на різні сценарії та результати запитів у REST API. Наприклад, 404 (Not Found)
        вказує на те, що запитаний ресурс не знайдено, а 405 (Method Not Allowed) вказує на те, що метод, використаний в запиті, не підтримується для
        даного ресурсу. <br>
        Статус-коди є важливою частиною взаємодії між клієнтом і сервером у REST API. Вони дозволяють клієнтам зрозуміти результат свого запиту і
        вжити необхідних дій на підставі цієї інформації.
    </p>
    <h2>REST у React</h2>
    <p>У React є кілька способів зробити запити до сервера. Один з найпоширеніших способів - використання вбудованого об'єкта fetch або бібліотеки
        axios для виконання HTTP-запитів. <br>
        У прикладі ми виконуємо GET-запит до URL 'https://api.example.com/data'. Відповідь
        сервера обробляється у форматі JSON. Метод then викликається, коли отримуємо успішну відповідь,
        а catch - коли виникає помилка.
    </p>
    <p>В прикладі ми використовуємо axios для виконання GET-запиту до URL
        'https://api.example.com/data'. Отримані дані ми отримуємо з
        response.data. Обробка помилок відбувається за допомогою catch.
    </p>
    <p>Ці приклади демонструють, як зробити простий GET-запит. Однак, fetch та axios
        також підтримують інші методи HTTP, такі як POST, PUT і DELETE, які можна
        використовувати для надсилання даних на сервер або видалення ресурсів.
        Пам'ятайте, що при роботі з запитами до сервера в React часто використовуються
        вбудовані методи життєвого циклу компонентів, такі як componentDidMount або хуки,
        такі як useEffect, для здійснення запитів у відповідний момент часу.
    </p>
    <p>Припустимо, що вже є дерево компонентів, яке має кілька рівнів ієрархії, і необхідно отримати колекцію елементів від API. Який саме компонент в
        ієрархії повинен відповідати за HTTP-запити і зберігання результату відповіді? Якщо не використовуємо бібліотеку управління станом, то це
        залежить від трьох критеріїв. <br>
        • Яким компонентам будуть необхідні отримані дані? <br>
        • Де буде рендеритися індикатор завантаження, доки виконується HTTP-запит? <br>
        • Де буде рендеритися повідомлення у разі помилки HTTP-запиту? <br>
        Методи життєвого циклу componentDidMount, componentDidUpdate чи useEffect ідеально підходять для HTTP-запитів. Коли
        викликається componentDidMount() чи useEffect з порожнім масивом залежностей, компонент вже був відрендерений у DOM і готовий до
        подальшого оновлення стану. Коли викликається componentDidUpdate() чи useEffect з не порожнім масивом залежностей, пропи або стан
        компонента змінилися, і, можливо, необхідно зробити новий запит, попередньо порівнявши їх, щоб не зациклити рендер компонента.
    </p>
    <p>У прикладі компонент MyComponent використовує хук useEffect, щоб зробити
        запит до серверу під час монтажу компонента. За допомогою axios.get ми отримуємо
        дані з URL 'https://api.example.com/data'. <br>
        Стан data зберігає отримані дані, а якщо дані ще не завантажено, відображається
        повідомлення "Loading...". <br>
        При отриманні даних, ми використовуємо data.map для відображення елементів у
        списку. <br>
        Зверніть увагу, що передаємо пустий масив залежностей [] у другий аргумент
        useEffect. Це означає, що ефект буде виконуватись тільки під час монтажу
        компонента, а не буде спрацьовувати при зміні інших залежностей.
    </p>
    <h2>REST у React кастомний хук</h2>
    <p>У кастомному хуці useFetch ми використовуємо useEffect для зроблення запиту до серверу за допомогою axios.get. Стан data зберігає
        отримані дані, isLoading вказує, чи триває завантаження, а error містить поточну помилку, якщо вона виникла. <br>
        У компоненті MyComponent ми використовуємо кастомний хук useFetch, передаючи URL 'https://api.example.com/data'. Залежно від
        стану isLoading і error ми відображаємо відповідні повідомлення або рендеримо дані. <br>
        Це покращує читабельність та перевикористовування коду, оскільки логіка запиту відокремлена від компонентів і може бути використана в інших
        частинах додатка без необхідності копіювання коду. <br>
        Ці підходи допомагають зберігати код організованим, зменшують залежності між компонентами та полегшують тестування окремих функцій запиту.
    </p>
</body>
</html>